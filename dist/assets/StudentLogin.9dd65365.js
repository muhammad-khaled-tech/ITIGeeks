import{u as N,r as l,j as e,d as t}from"./vendor-react.06bced68.js";import{u as S,t as E,b as h,v as j,w as C,x as F,j as L}from"./index.17f04fdd.js";import"./vendor-firebase.bbe5d1cc.js";import"./vendor-ui.c6987468.js";const W=()=>{const{login:f,loginWithEmail:x,registerWithEmail:y}=S(),g=N(),[s,p]=l.exports.useState(!1),[i,d]=l.exports.useState(!1),[b,n]=l.exports.useState(""),[u,v]=l.exports.useState(""),[c,w]=l.exports.useState(""),[m,k]=l.exports.useState("");return e("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-leet-bg px-4 py-12 sm:px-6 lg:px-8",children:t("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-leet-card p-8 rounded-xl shadow-lg border dark:border-leet-border",children:[t("div",{className:"text-center",children:[e("h2",{className:"mt-2 text-3xl font-extrabold text-gray-900 dark:text-white",children:s?"Create Account":"Welcome Back"}),e("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Sign in to ITIGeeks to track your progress"})]}),b&&t("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 p-3 rounded flex items-center gap-2",children:[e(E,{})," ",b]}),t("button",{onClick:async()=>{try{d(!0),n(""),await f(),g("/")}catch(a){console.error(a),n(a.message||"Failed to sign in with Google")}finally{d(!1)}},disabled:i,className:"w-full flex justify-center items-center gap-3 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-leet-input text-gray-700 dark:text-white hover:bg-gray-50 dark:hover:bg-screen-dark font-medium transition-colors",children:[i?e(h,{className:"animate-spin"}):e(j,{className:"text-red-500"}),"Continue with Google"]}),t("div",{className:"relative",children:[e("div",{className:"absolute inset-0 flex items-center",children:e("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e("div",{className:"relative flex justify-center text-sm",children:e("span",{className:"px-2 bg-white dark:bg-leet-card text-gray-500",children:"Or continue with email"})})]}),t("form",{className:"mt-8 space-y-6",onSubmit:async a=>{a.preventDefault(),n(""),d(!0);try{if(s){if(!m.trim())throw new Error("Name is required");if(c.length<6)throw new Error("Password must be at least 6 characters");const r=await y(u,c,m);if(r!=null&&r.emailSent){p(!1),n("Verification email sent! Please check your inbox and verify before logging in.");return}}else await x(u,c);g("/")}catch(r){console.error(r);let o="Authentication failed";r.code==="auth/invalid-credential"&&(o="Invalid email or password"),r.code==="auth/email-already-in-use"&&(o="Email already in use"),r.code==="auth/weak-password"&&(o="Password is too weak"),o==="Authentication failed"&&r.message&&(o=r.message),n(o)}finally{d(!1)}},children:[t("div",{className:"rounded-md shadow-sm space-y-4",children:[s&&t("div",{className:"relative",children:[e(C,{className:"absolute top-3 left-3 text-gray-400"}),e("input",{type:"text",required:!0,className:"appearance-none relative block w-full px-10 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-brand focus:border-brand dark:bg-leet-input sm:text-sm",placeholder:"Full Name",value:m,onChange:a=>k(a.target.value)})]}),t("div",{className:"relative",children:[e(F,{className:"absolute top-3 left-3 text-gray-400"}),e("input",{type:"email",required:!0,className:"appearance-none relative block w-full px-10 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-brand focus:border-brand dark:bg-leet-input sm:text-sm",placeholder:"Email address",value:u,onChange:a=>v(a.target.value)})]}),t("div",{className:"relative",children:[e(L,{className:"absolute top-3 left-3 text-gray-400"}),e("input",{type:"password",required:!0,className:"appearance-none relative block w-full px-10 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-brand focus:border-brand dark:bg-leet-input sm:text-sm",placeholder:"Password",value:c,onChange:a=>w(a.target.value)})]})]}),e("div",{children:e("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand hover:bg-brand-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand disabled:opacity-50",children:i?e(h,{className:"animate-spin"}):s?"Sign Up":"Login"})})]}),e("div",{className:"text-center",children:e("button",{type:"button",onClick:()=>p(!s),className:"text-sm font-medium text-brand hover:text-brand-hover",children:s?"Already have an account? Login":"Don't have an account? Sign Up"})})]})})};export{W as default};
