import{e as u,d as s,j as e,k as F,r as x,W as A,L as g,F as $,N as C,O as S}from"./vendor-react.06bced68.js";import{u as j,D as L,a2 as P,a3 as k,N as R,a4 as T,a5 as I,z as W,K as O,A as z,a6 as G,g as B,a7 as b,J as U,T as E,a8 as H,a9 as p,aa as J,ab as K,f as M,b as q}from"./index.17f04fdd.js";import"./vendor-firebase.bbe5d1cc.js";import"./vendor-ui.c6987468.js";const Q=[{path:"/admin",icon:k,label:"Dashboard",exact:!0},{path:"/admin/students",icon:R,label:"Students"},{path:"/admin/tracks",icon:T,label:"Tracks"},{path:"/admin/groups",icon:I,label:"Groups"},{path:"/admin/contests",icon:W,label:"Contests"},{path:"/admin/assignments",icon:O,label:"Assignments"},{path:"/admin/analytics",icon:z,label:"Analytics"},{path:"/admin/settings",icon:G,label:"Settings"},{path:"/admin/reports",icon:B,label:"Reports"}],V=()=>{const{logout:a,currentUser:r}=j(),o=u(),d=(l,i=!1)=>i?o.pathname===l:o.pathname.startsWith(l);return s("aside",{className:"w-64 bg-gray-900 min-h-screen flex flex-col",children:[e("div",{className:"p-6 border-b border-gray-800",children:s("div",{className:"flex items-center gap-3",children:[e(L,{className:"text-brand text-2xl"}),s("div",{children:[e("h1",{className:"text-white font-bold text-lg",children:"ITIGeeks"}),e("span",{className:"text-xs text-gray-500",children:"Admin Portal"})]})]})}),e("nav",{className:"flex-1 py-6 px-4 space-y-1",children:Q.map(l=>{const i=l.icon,c=d(l.path,l.exact);return s(F,{to:l.path,className:`
                                flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium
                                transition-all duration-200
                                ${c?"bg-brand text-white shadow-lg shadow-brand/20":"text-gray-400 hover:text-white hover:bg-gray-800"}
                            `,children:[e(i,{className:c?"text-white":"text-gray-500"}),l.label]},l.path)})}),s("div",{className:"p-4 border-t border-gray-800",children:[s("div",{className:"flex items-center gap-3 mb-4 px-2",children:[(r==null?void 0:r.photoURL)&&e("img",{src:r.photoURL,alt:"Profile",className:"w-10 h-10 rounded-full"}),s("div",{className:"flex-1 min-w-0",children:[e("p",{className:"text-sm font-medium text-white truncate",children:(r==null?void 0:r.displayName)||"Admin"}),e("p",{className:"text-xs text-gray-500 truncate",children:r==null?void 0:r.email})]})]}),s("button",{onClick:a,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:[e(P,{}),"Sign Out"]})]})]})},X=({isDark:a=!0})=>{const r=u();b();const[o,d]=x.exports.useState(!1),[l,i]=x.exports.useState([{id:1,type:"info",message:"Welcome to admin panel!",time:"1m ago",read:!1},{id:2,type:"warning",message:'Contest "Week 1" has ended',time:"2h ago",read:!1},{id:3,type:"success",message:"5 new students joined today",time:"5h ago",read:!0}]),c=r.pathname.split("/").filter(Boolean),h=c.map((t,n)=>{const v="/"+c.slice(0,n+1).join("/"),w=t.charAt(0).toUpperCase()+t.slice(1);return{path:v,label:w}}),m=l.filter(t=>!t.read).length,N=t=>{i(l.map(n=>n.id===t?{...n,read:!0}:n))},f=()=>{i(l.map(t=>({...t,read:!0})))},y=t=>{switch(t){case"warning":return e(M,{className:"text-yellow-500"});case"success":return e(K,{className:"text-green-500"});case"user":return e(J,{className:"text-blue-500"});default:return e(p,{className:"text-brand"})}};return e("header",{className:`border-b px-6 py-4 ${a?"bg-leet-card border-leet-border":"bg-white border-gray-200"}`,children:s("div",{className:"flex items-center justify-between",children:[e("nav",{className:"flex items-center space-x-2 text-sm",children:h.map((t,n)=>s(A.Fragment,{children:[n>0&&e(U,{className:`text-xs ${a?"text-leet-sub":"text-gray-400"}`}),n===h.length-1?e("span",{className:`font-medium ${a?"text-leet-text":"text-gray-900"}`,children:t.label}):e(g,{to:t.path,className:`hover:text-brand transition-colors ${a?"text-leet-sub":"text-gray-500"}`,children:t.label})]},t.path))}),s("div",{className:"flex items-center gap-4",children:[s("div",{className:"relative",children:[e(E,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-sm ${a?"text-leet-sub":"text-gray-400"}`}),e("input",{type:"text",placeholder:"Search...",className:`pl-10 pr-4 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand/20 transition-all w-64 ${a?"bg-leet-input text-leet-text placeholder-leet-sub border border-leet-border":"bg-gray-100 focus:bg-white"}`})]}),e("button",{className:`p-2 rounded-lg transition-colors ${a?"hover:bg-leet-input text-leet-sub":"hover:bg-gray-100 text-gray-500"}`,title:"Admin panel is always dark",children:e(H,{className:"text-yellow-400"})}),s("div",{className:"relative",children:[s("button",{onClick:()=>d(!o),className:`relative p-2 rounded-lg transition-colors ${a?"hover:bg-leet-input text-leet-sub":"hover:bg-gray-100 text-gray-500"}`,children:[e(p,{}),m>0&&e("span",{className:"absolute top-0 right-0 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:m})]}),o&&s($,{children:[e("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),s("div",{className:`absolute right-0 mt-2 w-80 rounded-lg shadow-2xl z-50 border overflow-hidden ${a?"bg-leet-card border-leet-border":"bg-white border-gray-200"}`,children:[s("div",{className:`flex items-center justify-between px-4 py-3 border-b ${a?"border-leet-border":"border-gray-200"}`,children:[e("h3",{className:`font-bold ${a?"text-leet-text":"text-gray-900"}`,children:"Notifications"}),m>0&&e("button",{onClick:f,className:"text-xs text-brand hover:underline",children:"Mark all as read"})]}),e("div",{className:"max-h-80 overflow-y-auto",children:l.length===0?e("div",{className:`px-4 py-8 text-center ${a?"text-leet-sub":"text-gray-500"}`,children:"No notifications"}):l.map(t=>s("div",{onClick:()=>N(t.id),className:`px-4 py-3 flex items-start gap-3 cursor-pointer transition-colors ${t.read?"":a?"bg-brand/5":"bg-blue-50"} ${a?"hover:bg-leet-input":"hover:bg-gray-50"}`,children:[e("div",{className:"flex-shrink-0 mt-0.5",children:y(t.type)}),s("div",{className:"flex-1 min-w-0",children:[e("p",{className:`text-sm ${a?"text-leet-text":"text-gray-900"}`,children:t.message}),e("p",{className:`text-xs mt-1 ${a?"text-leet-sub":"text-gray-500"}`,children:t.time})]}),!t.read&&e("div",{className:"w-2 h-2 bg-brand rounded-full flex-shrink-0 mt-1.5"})]},t.id))})]})]})]}),e(g,{to:"/",className:`text-sm hover:text-brand transition-colors ${a?"text-leet-sub":"text-gray-500"}`,children:"\u2190 Student Portal"})]})]})})},ee=()=>{const{adminUser:a,loading:r}=b();return r?e("div",{className:"min-h-screen flex items-center justify-center bg-leet-bg",children:e(q,{className:"animate-spin text-4xl text-brand"})}):a?s("div",{className:"flex min-h-screen bg-leet-bg",children:[e(V,{}),s("div",{className:"flex-1 flex flex-col",children:[e(X,{isDark:!0}),e("main",{className:"flex-1 p-6 overflow-auto",children:e(S,{context:{isDark:!0,adminUser:a}})})]})]}):e(C,{to:"/admin/login",replace:!0})};export{ee as default};
