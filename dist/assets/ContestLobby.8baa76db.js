import{r as d,j as s,b as r,L as x}from"./vendor-react.beb85f38.js";import{u as p,q as h,H as f,B as w}from"./index.f4dc0d86.js";import{R as y,x as N,h as v,I as k}from"./vendor-firebase.278f80a4.js";import"./vendor-ui.24a42a1c.js";const A=()=>{const{userData:o}=p(),[i,c]=d.exports.useState([]),[m,b]=d.exports.useState(!0);d.exports.useEffect(()=>{const e=y(v(w,"contests"),N("startTime","desc"));return k(e,a=>{const g=a.docs.map(l=>({id:l.id,...l.data()})).filter(l=>l.targetGroup==="All"||(o==null?void 0:o.groupId)&&l.targetGroup===o.groupId);c(g),b(!1)})},[o]);const u=e=>{const t=new Date,a=new Date(e.startTime),n=new Date(e.endTime);return t<a?{label:"Upcoming",color:"bg-blue-100 text-blue-800"}:t>=a&&t<=n?{label:"Active",color:"bg-green-100 text-green-800 animate-pulse"}:{label:"Ended",color:"bg-gray-100 text-gray-800"}};return m?s("div",{className:"p-6 text-center",children:"Loading contests..."}):r("div",{className:"max-w-5xl mx-auto p-6",children:[r("h1",{className:"text-3xl font-bold mb-8 flex items-center gap-2 dark:text-white",children:[s(h,{className:"text-yellow-500"})," Contest Lobby"]}),r("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[i.map(e=>{const t=u(e);return s("div",{className:"bg-white dark:bg-leet-card rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-leet-border hover:shadow-lg transition",children:r("div",{className:"p-5",children:[r("div",{className:"flex justify-between items-start mb-4",children:[s("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${t.color}`,children:t.label}),r("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[s(f,{})," ",new Date(e.startTime).toLocaleDateString()]})]}),s("h3",{className:"text-xl font-bold mb-2 dark:text-white",children:e.title}),r("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:[e.problems.length," Problems \u2022 ",e.problems.reduce((a,n)=>a+n.score,0)," Points"]}),s(x,{to:`/contests/${e.id}`,className:"block w-full text-center bg-brand hover:bg-brand-hover text-white font-medium py-2 rounded transition",children:t.label==="Ended"?"View Results":"Enter Arena"})]})},e.id)}),i.length===0&&s("div",{className:"col-span-full text-center py-10 text-gray-500",children:"No contests found for your group."})]})]})};export{A as default};
