import{i as k,r as g,d as t,j as e}from"./vendor-react.06bced68.js";import{u as v,R as p,K as w,d as N,W as S,p as A,h as L}from"./index.17f04fdd.js";import{a as j,b as E}from"./vendor-firebase.bbe5d1cc.js";import{B as F}from"./Breadcrumbs.63a79896.js";import"./vendor-ui.c6987468.js";const O=()=>{const{assignmentId:m}=k(),{userData:l}=v(),[a,f]=g.exports.useState(null),[u,y]=g.exports.useState(!0);if(g.exports.useEffect(()=>{(async()=>{try{const n=j(L,"assignments",m),s=await E(n);s.exists()&&f({id:s.id,...s.data()})}catch(n){console.error("Error fetching assignment:",n)}finally{y(!1)}})()},[m]),u)return t("div",{className:"p-10 text-center dark:text-white flex flex-col items-center gap-4",children:[e(p,{className:"animate-spin text-brand text-3xl"}),e("span",{children:"Loading Assignment..."})]});if(!a)return e("div",{className:"p-10 text-center text-red-500",children:"Assignment not found."});const x=a.problems.filter(r=>{var o;const n=typeof r=="string"?r:r.slug,s=typeof r=="string"?r:r.title;return(o=l==null?void 0:l.problems)==null?void 0:o.some(d=>(d.titleSlug===n||d.title===s)&&d.status==="Done")}),h=x.length===a.problems.length;return t("div",{className:"max-w-4xl mx-auto p-4 md:p-6 pb-20",children:[e(F,{customLastLabel:a.title}),t("div",{className:"bg-white dark:bg-leet-card rounded-2xl shadow-xl overflow-hidden border border-gray-100 dark:border-leet-border",children:[e("div",{className:"p-6 md:p-8 bg-gradient-to-r from-brand/5 to-transparent border-b dark:border-leet-border",children:t("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t("div",{children:[t("h1",{className:"text-3xl font-black italic mb-2 flex items-center gap-3 dark:text-white uppercase tracking-tight",children:[e(w,{className:"text-brand"}),a.title]}),a.description&&e("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-2xl",children:a.description})]}),t("div",{className:"flex flex-col items-end shrink-0",children:[t("span",{className:`text-xs font-bold px-3 py-1 rounded-full uppercase tracking-widest ${h?"bg-green-500/10 text-green-500":"bg-brand/10 text-brand"}`,children:[x.length," / ",a.problems.length," COMPLETED"]}),t("p",{className:"text-[10px] text-gray-400 mt-2 font-bold uppercase tracking-tighter",children:["Deadline: ",new Date(a.deadline).toLocaleString()]})]})]})}),t("div",{className:"p-6 md:p-8",children:[e("h2",{className:"text-lg font-bold mb-6 dark:text-white flex items-center gap-2",children:"Assignment Problems"}),!h&&t("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-100 dark:border-yellow-900/30 p-4 rounded-xl flex items-start gap-3",children:[e(p,{className:"text-yellow-600 dark:text-yellow-400 mt-1 animate-pulse"}),t("div",{children:[e("h4",{className:"text-sm font-bold text-yellow-800 dark:text-yellow-200",children:"Needs Verification?"}),t("p",{className:"text-xs text-yellow-700 dark:text-yellow-400/80 mt-1",children:["After solving a problem on LeetCode, click the ",e("strong",{children:"Sync"})," button in the top navigation bar to automatically update your progress here."]})]})]}),e("div",{className:"space-y-4",children:a.problems.map((r,n)=>{var b;const s=typeof r=="string"?r:r.slug,o=typeof r=="string"?r:r.title,d=typeof r=="object"?r.score:null,i=(b=l==null?void 0:l.problems)==null?void 0:b.some(c=>c.titleSlug===s||c.title===o&&c.status==="Solved");return t("div",{className:`group flex items-center gap-4 p-4 rounded-xl border transition-all duration-300 ${i?"bg-green-50/50 dark:bg-green-900/5 border-green-100 dark:border-green-900/20":"bg-gray-50 dark:bg-leet-input border-transparent hover:border-brand/20 dark:hover:border-brand/30"}`,children:[e("div",{className:"shrink-0",children:i?e("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg shadow-green-500/20",children:e(N,{size:18})}):e("div",{className:"w-8 h-8 rounded-full border-2 border-gray-300 dark:border-leet-border flex items-center justify-center text-gray-300 dark:text-leet-border group-hover:border-brand group-hover:text-brand transition-colors",children:e(S,{size:16})})}),t("div",{className:"flex-grow",children:[e("h4",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-brand transition-colors",children:o}),t("div",{className:"flex items-center gap-3 mt-1",children:[d&&t("span",{className:"text-[10px] font-black uppercase tracking-widest px-2 py-0.5 bg-gray-200 dark:bg-leet-border rounded text-gray-500 dark:text-gray-400",children:[d," POINTS"]}),t("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["ID: ",s]})]})]}),e("div",{className:"shrink-0",children:i?e("span",{className:"text-xs font-black text-green-600 dark:text-green-500 uppercase tracking-widest",children:"SOLVED"}):t("a",{href:`https://leetcode.com/problems/${s}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-brand hover:bg-brand-hover text-white px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest shadow-lg shadow-brand/20 transition-all hover:scale-105 active:scale-95",children:["Solve ",e(A,{size:10})]})})]},n)})})]})]})]})};export{O as default};
