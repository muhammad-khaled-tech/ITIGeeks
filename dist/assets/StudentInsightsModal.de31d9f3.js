import{r as l,j as e,b as t}from"./vendor-react.4d235dc1.js";import{N as x,a as y,e as f,O as u}from"./index.3a4d80bf.js";import{a as d}from"./SupervisorDashboard.117abecb.js";import{C as k,c as v,d as N,P as w,L as S,e as L,p as C,a as j,f as D}from"./vendor-charts.6f5577fc.js";import"./vendor-firebase.278f80a4.js";import"./vendor-ui.7a96cdac.js";import"./vendor-utils.bc6193ac.js";import"./Skeleton.58371651.js";k.register(v,N,w,S,L,C,j);const z=({isOpen:s,onClose:n,student:a})=>{const[i,c]=l.exports.useState([]),[m,g]=l.exports.useState(""),[h,o]=l.exports.useState(!1);if(l.exports.useEffect(()=>{s&&a&&(o(!0),d.fetchStudentDetails(a.leetcodeUsername).then(r=>{c(r.slice(0,10)),g(d.generateWeaknessReport(a)),o(!1)}))},[s,a]),!s||!a)return null;const b={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"Problems Solved",data:[a.easySolved%5,a.mediumSolved%5+2,a.hardSolved%2+1,5],borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)"}]};return e("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 backdrop-blur-sm p-4",children:t("div",{className:"bg-white dark:bg-leet-card w-full max-w-4xl rounded-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[t("div",{className:"flex justify-between items-center p-4 border-b dark:border-leet-border bg-gray-50 dark:bg-leet-input",children:[t("h3",{className:"text-lg font-bold dark:text-white flex items-center gap-2",children:[e(x,{className:"text-brand"})," Insights: ",a.username]}),e("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:e(y,{size:20})})]}),t("div",{className:"p-6 overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-6",children:[t("div",{className:"bg-gray-50 dark:bg-leet-bg p-4 rounded-lg",children:[e("h4",{className:"font-bold mb-2 dark:text-gray-300",children:"Activity Trend (30 Days)"}),e(D,{data:b})]}),t("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded",children:[t("h4",{className:"font-bold text-yellow-800 dark:text-yellow-200 flex items-center gap-2",children:[e(f,{})," AI Recommendation"]}),e("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:m})]})]}),t("div",{children:[t("h4",{className:"font-bold mb-4 dark:text-gray-300 flex items-center gap-2",children:[e(u,{})," Recent Submissions"]}),e("div",{className:"space-y-2",children:h?e("p",{className:"text-gray-500",children:"Loading history..."}):i.length>0?i.map((r,p)=>t("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-leet-input p-3 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[t("div",{children:[e("p",{className:"font-medium text-sm dark:text-white",children:r.title}),e("p",{className:"text-xs text-gray-500",children:new Date(parseInt(r.timestamp)*1e3).toLocaleDateString()})]}),e("span",{className:"text-xs font-bold px-2 py-1 rounded bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Accepted"})]},p)):e("p",{className:"text-gray-500 text-sm",children:"No recent submissions found."})})]})]})]})})};export{z as default};
