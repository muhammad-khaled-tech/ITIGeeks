import{r as p,d as r,j as e,F as P}from"./vendor-react.06bced68.js";import{n as H,o as O,aj as B,b as j,ak as G,V as L,al as _,T as V,ab as $,a as A,am as z,ai as R,f as q,p as W,s as Y,an as Q,ao as J}from"./index.17f04fdd.js";const I={xlsx:"Excel",xls:"Excel",csv:"CSV",pdf:"PDF",docx:"Word",md:"Markdown",txt:"Text"},K=/https?:\/\/leetcode\.com\/problems\/([a-z0-9-]+)/gi,X=({onImportComplete:i})=>{const s=p.exports.useRef(null),[d,o]=p.exports.useState(!1),[c,k]=p.exports.useState(""),[l,m]=p.exports.useState(!1),[u,g]=p.exports.useState(null),{importProblems:y,importing:a}=H(),t=n=>{const N=[...n.matchAll(K)];return[...new Set(N.map(h=>h[1]))]},b=async n=>{if(!n)return;const N=n.name.split(".").pop().toLowerCase();if(!I[N]){g(`Unsupported file type: .${N}`);return}m(!0),g(null);try{await y(n),i({problems:[],message:"File processed successfully!"})}catch(h){g(h.message)}finally{m(!1)}},x=async()=>{const n=t(c);if(n.length===0){g("No valid LeetCode URLs found. Please paste URLs in format: https://leetcode.com/problems/problem-name/");return}m(!0),g(null);try{const N=n.map(h=>({title:h.split("-").map(T=>T.charAt(0).toUpperCase()+T.slice(1)).join(" "),titleSlug:h,url:`https://leetcode.com/problems/${h}/`,difficulty:"Medium",score:L.MEDIUM,topic:"Uncategorized",status:"Todo",addedAt:new Date().toISOString()}));i({success:!0,problems:N,warnings:[],stats:{total:N.length}})}catch(N){g(N.message)}finally{m(!1)}};return r("div",{className:"space-y-6",children:[r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\u{1F4E4} Upload File"}),r("div",{onDragEnter:n=>{n.preventDefault(),n.stopPropagation(),n.dataTransfer.items&&n.dataTransfer.items.length>0&&o(!0)},onDragLeave:n=>{n.preventDefault(),n.stopPropagation(),o(!1)},onDragOver:n=>{n.preventDefault(),n.stopPropagation()},onDrop:n=>{n.preventDefault(),n.stopPropagation(),o(!1),n.dataTransfer.files&&n.dataTransfer.files[0]&&b(n.dataTransfer.files[0])},onClick:()=>{var n;return(n=s.current)==null?void 0:n.click()},className:`relative border-2 border-dashed rounded-xl p-8 text-center cursor-pointer
                    transition-all duration-200
                    ${d?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-600 hover:border-purple-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[e("input",{ref:s,type:"file",accept:".xlsx,.xls,.csv,.pdf,.docx,.md,.txt",onChange:n=>b(n.target.files[0]),className:"hidden"}),e(O,{className:`mx-auto text-5xl mb-4 ${d?"text-purple-600":"text-gray-400"}`}),e("p",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:d?"Drop file here":"Drag & drop or click to upload"}),r("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Supported: ",Object.values(I).filter((n,N,h)=>h.indexOf(n)===N).join(", ")]})]})]}),r("div",{className:"relative",children:[e("div",{className:"absolute inset-0 flex items-center",children:e("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e("div",{className:"relative flex justify-center text-sm",children:e("span",{className:"px-4 bg-white dark:bg-gray-800 text-gray-500",children:"or"})})]}),r("div",{children:[r("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e(B,{className:"inline mr-2"}),"Paste LeetCode URLs"]}),e("textarea",{value:c,onChange:n=>k(n.target.value),placeholder:`Paste LeetCode problem URLs here (one per line)
Example:
https://leetcode.com/problems/two-sum/
https://leetcode.com/problems/valid-parentheses/`,rows:6,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none transition-all duration-200"}),c&&r("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Found ",t(c).length," valid LeetCode URL(s)"]}),e("button",{onClick:x,disabled:l||!c.trim()||t(c).length===0,className:"mt-4 w-full py-3 rounded-lg font-medium bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg shadow-purple-500/30 hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2",children:l||a?r(P,{children:[e(j,{className:"animate-spin"}),"Importing..."]}):r(P,{children:[e(G,{}),"Import URLs"]})})]}),u&&e("div",{className:"p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:e("p",{className:"text-sm text-red-700 dark:text-red-300",children:u})})]})},E={1:{name:"Foundation",description:"Perfect for beginners - Focus on fundamentals",mix:{easy:70,medium:30,hard:0},defaultTotal:10,recommendedTopics:["Array","String","Hash Table","Two Pointers"],icon:"\u{1F331}"},2:{name:"Intermediate",description:"Building core problem-solving skills",mix:{easy:50,medium:40,hard:10},defaultTotal:15,recommendedTopics:["Array","String","Hash Table","Two Pointers","Sorting","Binary Search"],icon:"\u{1F4C8}"},3:{name:"Advanced",description:"Competitive programming preparation",mix:{easy:30,medium:50,hard:20},defaultTotal:20,recommendedTopics:["Dynamic Programming","Tree","Graph","Backtracking","Greedy"],icon:"\u{1F680}"},4:{name:"Expert",description:"Master advanced algorithms",mix:{easy:20,medium:50,hard:30},defaultTotal:25,recommendedTopics:["Dynamic Programming","Graph","Segment Tree","Bit Manipulation","Trie"],icon:"\u{1F3AF}"},5:{name:"Champion",description:"Elite-level challenges",mix:{easy:10,medium:40,hard:50},defaultTotal:30,recommendedTopics:[],icon:"\u{1F3C6}"}},D=2,Z="https://docs.google.com/spreadsheets/d/1sRWp95wqo3a7lLBbtNd_3KkTyGjx_9sctTOL5JOb6pA/export?format=csv",ee=()=>{const[i,s]=p.exports.useState([]),[d,o]=p.exports.useState([]),[c,k]=p.exports.useState(!0),[l,m]=p.exports.useState(null);p.exports.useEffect(()=>{(async()=>{try{k(!0);const a=await fetch(Z);if(!a.ok)throw new Error("Failed to fetch problem database");const t=await a.text();_.parse(t,{header:!1,skipEmptyLines:!0,complete:b=>{const x=[],w=new Set;b.data.slice(3).forEach(f=>{var S,C,n;if(f.length>6){const N=(S=f[1])==null?void 0:S.trim(),h=(C=f[5])==null?void 0:C.trim(),T=(n=f[6])==null?void 0:n.trim();if(N&&T&&["Easy","Medium","Hard"].includes(T)){const v=N.toLowerCase().replace(/\s+/g,"-");let M=L.MEDIUM;T==="Easy"&&(M=L.EASY),T==="Hard"&&(M=L.HARD),x.push({title:N,titleSlug:v,difficulty:T,score:M,topic:h||"Uncategorized",type:h||"Uncategorized",url:`https://leetcode.com/problems/${v}/`,status:"Todo",addedAt:new Date().toISOString()}),h&&w.add(h)}}}),s(x),o(Array.from(w).sort()),k(!1),console.log(`Loaded ${x.length} problems from database`)},error:b=>{console.error("CSV parsing error:",b),m("Failed to parse problem database"),k(!1)}})}catch(a){console.error("Failed to load problems:",a),m(a.message),k(!1)}})()},[]);const u=p.exports.useCallback(y=>{const{level:a,customMix:t,totalProblems:b,topics:x}=y;let w;t?w=t:a&&E[a]?w=E[a].mix:w=E[D].mix;const f={Easy:Math.round(b*w.easy/100),Medium:Math.round(b*w.medium/100),Hard:Math.round(b*w.hard/100)},S=f.Easy+f.Medium+f.Hard;S<b?f.Medium+=b-S:S>b&&(f.Medium-=S-b);let C=i;if(x&&x.length>0&&(C=i.filter(v=>x.includes(v.topic))),C.length===0)return{success:!1,problems:[],warnings:['No problems found for selected topics. Please choose different topics or select "All Topics".'],stats:{requested:f,actual:{Easy:0,Medium:0,Hard:0}}};const n={Easy:C.filter(v=>v.difficulty==="Easy"),Medium:C.filter(v=>v.difficulty==="Medium"),Hard:C.filter(v=>v.difficulty==="Hard")},N=[],h=[];Object.entries(f).forEach(([v,M])=>{if(M===0)return;const F=n[v];if(F.length===0){N.push(`No ${v} problems available for selected topics.`);return}F.length<M&&N.push(`Only ${F.length} ${v} problem${F.length===1?"":"s"} available, requested ${M}. Selecting all ${F.length}.`);const U=re([...F]).slice(0,Math.min(M,F.length));h.push(...U)});const T={Easy:h.filter(v=>v.difficulty==="Easy").length,Medium:h.filter(v=>v.difficulty==="Medium").length,Hard:h.filter(v=>v.difficulty==="Hard").length};return{success:!0,problems:h,warnings:N,stats:{requested:f,actual:T,total:h.length}}},[i]),g=p.exports.useCallback((y=[])=>{let a=i;return y&&y.length>0&&(a=i.filter(t=>y.includes(t.topic))),{total:a.length,easy:a.filter(t=>t.difficulty==="Easy").length,medium:a.filter(t=>t.difficulty==="Medium").length,hard:a.filter(t=>t.difficulty==="Hard").length,byTopic:y.length>0?null:te(a)}},[i]);return{allProblems:i,availableTopics:d,loading:c,error:l,generateRandomSet:u,getAvailableStats:g}};function re(i){const s=[...i];for(let d=s.length-1;d>0;d--){const o=Math.floor(Math.random()*(d+1));[s[d],s[o]]=[s[o],s[d]]}return s}function te(i){return i.reduce((s,d)=>(s[d.topic]=(s[d.topic]||0)+1,s),{})}const ae=({selectedLevel:i,onLevelChange:s,onTotalChange:d,totalProblems:o})=>{const c=E[i];return r("div",{className:"space-y-4",children:[r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Difficulty Level"}),e("select",{value:i,onChange:l=>{const m=parseInt(l.target.value);s(m),E[m]&&d(E[m].defaultTotal)},className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",children:Object.entries(E).map(([l,m])=>r("option",{value:l,children:[m.icon," Level ",l,": ",m.name," - ",m.description]},l))})]}),r("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-gray-800 dark:to-gray-700  rounded-lg p-4 border border-purple-200 dark:border-gray-600",children:[r("div",{className:"flex items-center gap-3 mb-2",children:[e("span",{className:"text-3xl",children:c.icon}),r("div",{children:[e("h3",{className:"font-bold text-lg text-gray-800 dark:text-white",children:c.name}),e("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:c.description})]})]}),c.recommendedTopics.length>0&&r("div",{className:"mt-3",children:[e("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Recommended Topics:"}),e("div",{className:"flex flex-wrap gap-1",children:c.recommendedTopics.map(l=>e("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-100 dark:bg-purple-900/30  text-purple-700 dark:text-purple-300",children:l},l))})]})]}),r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total Number of Problems"}),e("input",{type:"number",min:"1",max:"100",value:o,onChange:l=>d(parseInt(l.target.value)||1),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"}),r("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Default for this level: ",c.defaultTotal," problems"]})]})]})},le=({mix:i,onChange:s,totalProblems:d})=>{const[o,c]=p.exports.useState(i);p.exports.useEffect(()=>{c(i)},[i]);const k=(g,y)=>{const a=parseInt(y);let t={...o,[g]:a};const b=g==="easy"?["medium","hard"]:g==="medium"?["easy","hard"]:["easy","medium"],x=100-a,w=b.reduce((S,C)=>S+t[C],0);w>0?b.forEach(S=>{t[S]=Math.round(t[S]/w*x)}):(t[b[0]]=Math.floor(x/2),t[b[1]]=x-t[b[0]]);const f=t.easy+t.medium+t.hard;f!==100&&(t.medium+=100-f),c(t),s(t)},l={easy:Math.round(d*(o.easy/100)),medium:Math.round(d*(o.medium/100)),hard:Math.round(d*(o.hard/100))},m=o.easy+o.medium+o.hard,u=m===100;return r("div",{className:"space-y-6",children:[r("div",{children:[r("div",{className:"flex justify-between items-center mb-2",children:[e("label",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Easy"}),r("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:[o.easy,"% (",l.easy," problems)"]})]}),e("input",{type:"range",min:"0",max:"100",value:o.easy,onChange:g=>k("easy",g.target.value),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer  dark:bg-gray-700 [&::-webkit-slider-thumb]:appearance-none  [&::-webkit-slider-thumb]:w-5  [&::-webkit-slider-thumb]:h-5  [&::-webkit-slider-thumb]:bg-green-500  [&::-webkit-slider-thumb]:rounded-full  [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg [&::-moz-range-thumb]:w-5  [&::-moz-range-thumb]:h-5  [&::-moz-range-thumb]:bg-green-500  [&::-moz-range-thumb]:rounded-full  [&::-moz-range-thumb]:cursor-pointer [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg"})]}),r("div",{children:[r("div",{className:"flex justify-between items-center mb-2",children:[e("label",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:"Medium"}),r("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:[o.medium,"% (",l.medium," problems)"]})]}),e("input",{type:"range",min:"0",max:"100",value:o.medium,onChange:g=>k("medium",g.target.value),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer  dark:bg-gray-700 [&::-webkit-slider-thumb]:appearance-none  [&::-webkit-slider-thumb]:w-5  [&::-webkit-slider-thumb]:h-5  [&::-webkit-slider-thumb]:bg-yellow-500  [&::-webkit-slider-thumb]:rounded-full  [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg [&::-moz-range-thumb]:w-5  [&::-moz-range-thumb]:h-5  [&::-moz-range-thumb]:bg-yellow-500  [&::-moz-range-thumb]:rounded-full  [&::-moz-range-thumb]:cursor-pointer [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg"})]}),r("div",{children:[r("div",{className:"flex justify-between items-center mb-2",children:[e("label",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Hard"}),r("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:[o.hard,"% (",l.hard," problems)"]})]}),e("input",{type:"range",min:"0",max:"100",value:o.hard,onChange:g=>k("hard",g.target.value),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer  dark:bg-gray-700 [&::-webkit-slider-thumb]:appearance-none  [&::-webkit-slider-thumb]:w-5  [&::-webkit-slider-thumb]:h-5  [&::-webkit-slider-thumb]:bg-red-500  [&::-webkit-slider-thumb]:rounded-full  [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg [&::-moz-range-thumb]:w-5  [&::-moz-range-thumb]:h-5  [&::-moz-range-thumb]:bg-red-500  [&::-moz-range-thumb]:rounded-full  [&::-moz-range-thumb]:cursor-pointer [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg"})]}),r("div",{className:`p-3 rounded-lg ${u?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"}`,children:[r("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total:"}),r("span",{className:`text-lg font-bold ${u?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[m,"% ",u?"\u2705":"\u274C"]})]}),!u&&e("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Total must equal 100%"})]})]})},se=({availableTopics:i,selectedTopics:s,onChange:d,loading:o})=>{const[c,k]=p.exports.useState(""),[l,m]=p.exports.useState(!1),u=s.length===0,g=i.filter(t=>t.toLowerCase().includes(c.toLowerCase())),y=t=>{s.includes(t)?d(s.filter(b=>b!==t)):d([...s,t])},a=()=>{d([]),m(!1)};return o?r("div",{className:"animate-pulse",children:[e("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded-lg mb-2"}),e("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-lg"})]}):r("div",{className:"space-y-3",children:[r("div",{className:"flex items-center gap-2",children:[e("button",{onClick:a,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${u?"bg-purple-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"All Topics"}),r("button",{onClick:()=>m(!l),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${u?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600":"bg-purple-600 text-white"}`,children:["Specific Topics ",!u&&`(${s.length})`]})]}),l&&r("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden",children:[e("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:r("div",{className:"relative",children:[e(V,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e("input",{type:"text",placeholder:"Search topics...",value:c,onChange:t=>k(t.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg bg-gray-50 dark:bg-gray-700  border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),e("div",{className:"max-h-48 overflow-y-auto p-2",children:g.length===0?e("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No topics found"}):e("div",{className:"grid grid-cols-2 gap-2",children:g.map(t=>r("button",{onClick:()=>y(t),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-left
                               transition-all duration-150 ${s.includes(t)?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border border-purple-300 dark:border-purple-700":"bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-650"}`,children:[s.includes(t)&&e($,{className:"text-purple-600 dark:text-purple-400 shrink-0",size:12}),e("span",{className:"truncate",children:t})]},t))})}),r("div",{className:"p-2 border-t border-gray-200 dark:border-gray-600 flex justify-between",children:[e("button",{onClick:()=>d([...i]),className:"text-sm text-purple-600 dark:text-purple-400 hover:underline",children:"Select All"}),e("button",{onClick:a,className:"text-sm text-gray-500 dark:text-gray-400 hover:underline",children:"Clear Selection"})]})]}),!u&&s.length>0&&e("div",{className:"flex flex-wrap gap-2",children:s.map(t=>r("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full  bg-purple-100 dark:bg-purple-900/30  text-purple-700 dark:text-purple-300 text-sm",children:[t,e("button",{onClick:()=>y(t),className:"hover:text-purple-900 dark:hover:text-purple-100",children:e(A,{size:10})})]},t))})]})},de=({mix:i,totalProblems:s})=>{const d={easy:Math.round(s*(i.easy/100)),medium:Math.round(s*(i.medium/100)),hard:Math.round(s*(i.hard/100))},o=d.easy+d.medium+d.hard;return o<s?d.medium+=s-o:o>s&&(d.medium-=o-s),r("div",{className:"space-y-3",children:[r("div",{children:[r("div",{className:"flex justify-between text-sm mb-1",children:[e("span",{className:"font-medium text-green-600 dark:text-green-400",children:"Easy"}),r("span",{className:"text-gray-600 dark:text-gray-400",children:[i.easy,"% (",d.easy," problem",d.easy!==1?"s":"",")"]})]}),e("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:e("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${i.easy}%`}})})]}),r("div",{children:[r("div",{className:"flex justify-between text-sm mb-1",children:[e("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:"Medium"}),r("span",{className:"text-gray-600 dark:text-gray-400",children:[i.medium,"% (",d.medium," problem",d.medium!==1?"s":"",")"]})]}),e("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:e("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-600 h-3 rounded-full transition-all duration-300",style:{width:`${i.medium}%`}})})]}),r("div",{children:[r("div",{className:"flex justify-between text-sm mb-1",children:[e("span",{className:"font-medium text-red-600 dark:text-red-400",children:"Hard"}),r("span",{className:"text-gray-600 dark:text-gray-400",children:[i.hard,"% (",d.hard," problem",d.hard!==1?"s":"",")"]})]}),e("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:e("div",{className:"bg-gradient-to-r from-red-400 to-red-600 h-3 rounded-full transition-all duration-300",style:{width:`${i.hard}%`}})})]})]})},ne=({onGenerate:i})=>{const{availableTopics:s,loading:d,error:o,generateRandomSet:c,getAvailableStats:k}=ee(),[l,m]=p.exports.useState("preset"),[u,g]=p.exports.useState(D),[y,a]=p.exports.useState(E[D].defaultTotal),[t,b]=p.exports.useState({easy:50,medium:40,hard:10}),[x,w]=p.exports.useState(15),[f,S]=p.exports.useState([]),[C,n]=p.exports.useState(!1),N=l==="preset"?E[u].mix:t,h=l==="preset"?y:x,T=k(f),v=()=>{n(!0),setTimeout(()=>{const M=c({level:l==="preset"?u:null,customMix:l==="custom"?t:null,totalProblems:h,topics:f.length>0?f:null});n(!1),(M.problems.length>0||M.warnings.length>0)&&i(M)},300)};return o?r("div",{className:"p-8 text-center",children:[e(z,{className:"text-red-500 text-4xl mx-auto mb-4"}),e("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"Failed to load problem database"}),e("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:o})]}):r("div",{className:"space-y-6",children:[r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Selection Mode"}),r("div",{className:"flex gap-3",children:[e("button",{onClick:()=>m("preset"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-200 ${l==="preset"?"bg-purple-600 text-white shadow-lg shadow-purple-500/30":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"\u{1F3AF} Preset Levels"}),e("button",{onClick:()=>m("custom"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-200 ${l==="custom"?"bg-purple-600 text-white shadow-lg shadow-purple-500/30":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"\u{1F3A8} Custom Mix"})]})]}),e("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50",children:l==="preset"?e(ae,{selectedLevel:u,onLevelChange:g,totalProblems:y,onTotalChange:a}):r("div",{className:"space-y-4",children:[e(le,{mix:t,onChange:b,totalProblems:x}),r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total Number of Problems"}),e("input",{type:"number",min:"1",max:"100",value:x,onChange:M=>w(parseInt(M.target.value)||1),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]})]})}),r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\u{1F4CA} Difficulty Distribution"}),e("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50",children:e(de,{mix:N,totalProblems:h})})]}),r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\u{1F3F7}\uFE0F Topic Filter"}),e(se,{availableTopics:s,selectedTopics:f,onChange:S,loading:d})]}),!d&&e("div",{className:"p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:r("div",{className:"flex items-start gap-2",children:[e(z,{className:"text-blue-600 dark:text-blue-400 mt-0.5"}),r("div",{children:[r("h4",{className:"font-medium text-blue-800 dark:text-blue-200",children:["Available Problems ",f.length>0?"(Filtered)":""]}),r("div",{className:"flex gap-4 mt-2 text-sm text-blue-700 dark:text-blue-300",children:[r("span",{children:["Total: ",e("strong",{children:T.total})]}),r("span",{children:["Easy: ",e("strong",{children:T.easy})]}),r("span",{children:["Medium: ",e("strong",{children:T.medium})]}),r("span",{children:["Hard: ",e("strong",{children:T.hard})]})]})]})]})}),e("button",{onClick:v,disabled:d||C,className:"w-full py-4 rounded-xl font-bold text-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg shadow-purple-500/30 hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-3",children:C?r(P,{children:[e(j,{className:"animate-spin"}),"Generating..."]}):r(P,{children:[e(R,{}),"Generate ",h," Problem",h!==1?"s":""]})})]})},oe=({problems:i,warnings:s,stats:d,onClose:o,onConfirm:c,onRegenerate:k})=>{const[l,m]=p.exports.useState(i),u=a=>{m(l.filter(t=>t.titleSlug!==a))},g=a=>{switch(a){case"Easy":return"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30";case"Medium":return"text-yellow-600 dark:text-yellow-400 bg-yellow-100 dark:bg-yellow-900/30";case"Hard":return"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30";default:return"text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-900/30"}},y={Easy:l.filter(a=>a.difficulty==="Easy").length,Medium:l.filter(a=>a.difficulty==="Medium").length,Hard:l.filter(a=>a.difficulty==="Hard").length};return e("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:r("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[r("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r("div",{children:[e("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"\u{1F4CB} Preview Problem Set"}),r("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[l.length," problem",l.length!==1?"s":""," selected"]})]}),e("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition",children:e(A,{size:24})})]}),s&&s.length>0&&e("div",{className:"mx-6 mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:r("div",{className:"flex items-start gap-2",children:[e(q,{className:"text-yellow-600 dark:text-yellow-400 shrink-0 mt-0.5"}),r("div",{children:[e("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Warnings"}),e("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1 space-y-1",children:s.map((a,t)=>r("li",{children:["\u2022 ",a]},t))})]})]})}),r("div",{className:"px-6 py-4 flex gap-4 border-b border-gray-200 dark:border-gray-700",children:[r("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:[e("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Easy:"}),e("span",{className:"font-bold text-green-700 dark:text-green-300",children:y.Easy})]}),r("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-yellow-100 dark:bg-yellow-900/30",children:[e("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:"Medium:"}),e("span",{className:"font-bold text-yellow-700 dark:text-yellow-300",children:y.Medium})]}),r("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-red-100 dark:bg-red-900/30",children:[e("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"Hard:"}),e("span",{className:"font-bold text-red-700 dark:text-red-300",children:y.Hard})]})]}),e("div",{className:"overflow-y-auto max-h-[calc(80vh-380px)] p-6",children:l.length===0?e("div",{className:"text-center py-12",children:e("p",{className:"text-gray-500 dark:text-gray-400",children:"No problems selected"})}):e("div",{className:"space-y-2",children:l.map((a,t)=>r("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50 dark:bg-gray-700/50  hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150",children:[r("div",{className:"flex items-center gap-4",children:[r("span",{className:"text-sm text-gray-400 dark:text-gray-500 w-6",children:[t+1,"."]}),r("div",{children:[e("h4",{className:"font-medium text-gray-800 dark:text-white",children:a.title}),r("div",{className:"flex items-center gap-2 mt-1",children:[e("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${g(a.difficulty)}`,children:a.difficulty}),r("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2022 ",a.topic]}),r("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400 ml-2",children:[a.score||50," pts"]})]})]})]}),r("div",{className:"flex items-center gap-2",children:[e("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition",title:"Open in LeetCode",children:e(W,{size:14})}),e("button",{onClick:()=>u(a.titleSlug),className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition",title:"Remove problem",children:e(Y,{size:14})})]})]},a.titleSlug))})}),r("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-between",children:[r("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700  text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200",children:[e(Q,{}),"Regenerate"]}),r("div",{className:"flex gap-3",children:[e("button",{onClick:o,className:"px-6 py-2 rounded-lg bg-gray-200 dark:bg-gray-700  text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200",children:"Cancel"}),r("button",{onClick:()=>c(l),disabled:l.length===0,className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white font-medium hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[e($,{}),"Add ",l.length," Problem",l.length!==1?"s":""]})]})]})]})})},ue=({isOpen:i,onClose:s,onConfirm:d})=>{const[o,c]=p.exports.useState("smart"),[k,l]=p.exports.useState(null),[m,u]=p.exports.useState(!1);if(!i)return null;const g=x=>{l(x),u(!0)},y=x=>{x.problems&&x.problems.length>0&&(l(x),u(!0))},a=x=>{d(x),u(!1),l(null),s()},t=()=>{u(!1)};return r(P,{children:[e("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:r("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[85vh] overflow-hidden animate-fadeIn",children:[r("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-gray-800 dark:to-gray-800",children:[r("div",{children:[r("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-3",children:[e("span",{className:"text-3xl",children:"\u{1F3AF}"}),"Build Problem Set"]}),e("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Import from files or generate a smart selection from our database"})]}),e("button",{onClick:()=>{u(!1),l(null),s()},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",children:e(A,{size:24})})]}),r("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[r("button",{onClick:()=>c("smart"),className:`flex-1 py-4 px-6 font-semibold transition-all duration-200 flex items-center justify-center gap-2 ${o==="smart"?"border-b-2 border-purple-600 text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/10":"text-gray-600 dark:text-gray-400 hover:text-purple-600 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[e(R,{}),"Smart Selection"]}),r("button",{onClick:()=>c("import"),className:`flex-1 py-4 px-6 font-semibold transition-all duration-200 flex items-center justify-center gap-2 ${o==="import"?"border-b-2 border-purple-600 text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/10":"text-gray-600 dark:text-gray-400 hover:text-purple-600 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[e(J,{}),"Import Files/URLs"]})]}),e("div",{className:"p-6 overflow-y-auto max-h-[calc(85vh-240px)]",children:o==="smart"?e(ne,{onGenerate:g}):e(X,{onImportComplete:y})})]})}),m&&k&&e(oe,{problems:k.problems,warnings:k.warnings,stats:k.stats,onClose:()=>u(!1),onConfirm:a,onRegenerate:t}),e("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out forwards;
        }
      `})]})};export{ue as P};
