import{u as x,r as d,R as p,H as h,y as f,I as y,j as s,a as r,l as w,J as N,L as v,z as k}from"./index.bed71268.js";const C=()=>{const{userData:l}=x(),[i,c]=d.exports.useState([]),[u,b]=d.exports.useState(!0);d.exports.useEffect(()=>{const e=p(f(k,"contests"),h("startTime","desc"));return y(e,a=>{const g=a.docs.map(o=>({id:o.id,...o.data()})).filter(o=>o.targetGroup==="All"||(l==null?void 0:l.groupId)&&o.targetGroup===l.groupId);c(g),b(!1)})},[l]);const m=e=>{const t=new Date,a=new Date(e.startTime),n=new Date(e.endTime);return t<a?{label:"Upcoming",color:"bg-blue-100 text-blue-800"}:t>=a&&t<=n?{label:"Active",color:"bg-green-100 text-green-800 animate-pulse"}:{label:"Ended",color:"bg-gray-100 text-gray-800"}};return u?s("div",{className:"p-6 text-center",children:"Loading contests..."}):r("div",{className:"max-w-5xl mx-auto p-6",children:[r("h1",{className:"text-3xl font-bold mb-8 flex items-center gap-2 dark:text-white",children:[s(w,{className:"text-yellow-500"})," Contest Lobby"]}),r("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[i.map(e=>{const t=m(e);return s("div",{className:"bg-white dark:bg-leet-card rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-leet-border hover:shadow-lg transition",children:r("div",{className:"p-5",children:[r("div",{className:"flex justify-between items-start mb-4",children:[s("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${t.color}`,children:t.label}),r("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[s(N,{})," ",new Date(e.startTime).toLocaleDateString()]})]}),s("h3",{className:"text-xl font-bold mb-2 dark:text-white",children:e.title}),r("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:[e.problems.length," Problems \u2022 ",e.problems.reduce((a,n)=>a+n.score,0)," Points"]}),s(v,{to:`/contests/${e.id}`,className:"block w-full text-center bg-brand hover:bg-brand-hover text-white font-medium py-2 rounded transition",children:t.label==="Ended"?"View Results":"Enter Arena"})]})},e.id)}),i.length===0&&s("div",{className:"col-span-full text-center py-10 text-gray-500",children:"No contests found for your group."})]})]})};export{C as default};
